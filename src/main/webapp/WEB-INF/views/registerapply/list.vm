#parse("/registerapply/register.js.html")
#set($bodyattr="class='easyui-layout' style='border:0px'")
<div id="tb" style="padding:2px 5px;">
    <form id="queryForm">
        <table class="tb2 default-table">
        <th style="text-align:right;">姓名：</th>
        <td style="text-align:left">
            <input name="$qc.like('registerUser.userName')" class="easyui-textbox" style="margin:5px;"/>
        </td>
        <th style="text-align:right;">状态：</th>
        <td style="text-align:left">
            <select  name="$qc.equal('status')" class="easyui-combobox" style="width:150px" panelheight="auto">
                <option value=" " >选择状态</option>
                #foreach($option in ${dict.appauthstatus.keySet()})
                    <option value="$option">${dict.appauthstatus.get($option)}</option>
                #end
            </select>
        </td>
        <span style="float:right;position:absolute;right:5px;">
            <a href="javascript:;" class="easyui-linkbutton" plain="true" iconCls="icon-search" onclick="formSerach()" >查询</a>
            <a href="javascript:;" class="easyui-linkbutton" plain="true" iconCls="icon-remove" onclick="reset()">重置</a>
        </span>
        </table>
    </form>
    <hr/>
    <a href="javascript:void(0)" class="easyui-linkbutton"
        iconCls="icon-ok" plain="true" onclick="operate(1)">通过</a>
        <a href="javascript:void(0)" class="easyui-linkbutton"
        iconCls="icon-ban-circle" plain="true" onclick="operate(2)">不通过</a>
    <a href="javascript:void(0)" class="easyui-linkbutton"
        iconCls="icon-remove" plain="true" onClick="del()">删除</a>
</div>
<div class="cc-tableWrap" data-options="region:'center',border:false" style="padding:5px;">
<table id="dg" title="申请列表" style="width:100%;" data-options="pageSize:20,pageList:[20,30,50],fit:true,rownumbers:true,pagination:true,toolbar:'#tb',url:'registerapp/list.json'">
    <thead>
    <tr>
        <th data-options="field:'id',checkbox:true">选择</th>
        <th data-options="field:'userName',width:200">姓名</th>
        <th data-options="field:'account',width:200">账号</th>
        <th data-options="field:'imeiCode',width:300">手机IMEI码</th>
        <th data-options="field:'status',width:100">状态</th>
        <th data-options="field:'applyShowTime',width:200">申请时间</th>
    </tr>
    </thead>
</table>
</div>

#@script()
<script>
 $(function () {
        $('#dg').datagrid({
        });
    });

//行内操作的方法，编辑和修改
var _datagrid = $("#dg");
var _toolbar = $("#tb");
var _btnEdit = $("[iconCls='icon-edit']",_toolbar);
var _btnDelete = $("[iconCls='icon-remove']",_toolbar);

function operaterFormatter(value,row,index){
    return $(".cc-operateColum",_datagrid.parents(".cc-tableWrap")).html();
}
function getRowIdByDom(dom){
    var tr =$(dom).parent().parent().parent();
    return tr.attr("datagrid-row-index");
}
function delRow(index){
    _datagrid.datagrid("selectRow",index);
    _btnDelete.click();
}
function editRow(index){
    _datagrid.datagrid("selectRow",index);
    _btnEdit.click();
}
</script>
#end
